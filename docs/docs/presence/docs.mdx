# API

## CreatePresence

创建 Presence 实例。

- 类型

```ts
function createPresence(options: PresenceOptions): Promise<IPresence>;
```

- 详细信息

参数为连接信息。

- 示例

```ts
import { createPresence } from '@yomo/presence';

const presence = await createPresence({
  appId: 'your-app-id',
  appKey: 'your-app-key',
});
```

## presence.onReady()

- 类型

```ts
interface IPresence {
  onReady(callbackFn: (presence: IPresence) => void): void;
}
```

- 详细信息

当 Presence 实例连接到服务端后，会触发 onReady 事件。

参数为一个回调函数，回调函数的默认参数是连接后的 Presence 实例。

- 示例

```ts
presence.onReady(presence => {
  console.log('Presence is ready.');
});
```

## presence.joinChannel()

- 类型

```ts
interface IPresence {
  joinChannel: (channelId: string, metadata: Metadata) => IChannel;
}
```

- 详细信息

加入 channel。

参数为 channel ID 和当前用户的状态，状态参数为可选参数。

## presence.leaveChannel()

## channel.subscribePeers()

## channel.subscribe()

## channel.unsubscribe()

## channel.broadcast()

## channel.updateMetadata()

## channel.leave()
